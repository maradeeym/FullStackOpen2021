{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/PersonList.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","findName","handleClick","personsToShow","filter","contact","name","toLowerCase","includes","isBelowThreshold","currentValue","person","map","indexOf","console","log","every","filterIt","number","onClick","window","confirm","id","Filter","handleFinderChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFinder","setMessage","messageType","SetMessageType","useEffect","PersonList","initialPersons","event","target","preventDefault","nameObject","length","find","names","personToUpdate","returnedPerson","concat","setTimeout","personToRemove","removedPerson","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d6222cf8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({persons, findName, handleClick}) => {\n    \n    const personsToShow = persons.filter(contact => contact.name.toLowerCase().includes(findName))\n    const isBelowThreshold = (currentValue) => currentValue === 0;\n    const person = persons.map(contact => contact.name.toLowerCase().indexOf(findName))\n    console.log(person)\n    console.log(person.every(isBelowThreshold))\n\n    const filterIt = personsToShow.map(contact => \n    <ul key={contact.id}>{contact.name} {contact.number}\n      <button onClick={() => {\n        if(window.confirm(`Delete ${contact.name}?`)){\n        handleClick(contact.id)}}}>\n        delete</button>\n    </ul>)\n    \n    if(person.every(isBelowThreshold) === true)\n    return(\n    <p>Search something</p>\n    )\n    else\n    return(\n    <>{filterIt}</>\n    )\n    }\n\n    export default Persons","import React from 'react'\n\nconst Filter = ({findName, handleFinderChange}) => { \n    console.log('Filter')\n    return(\n    <form>\n        <div>\n          filter shown with: <input \n          value={findName}\n          onChange={handleFinderChange}\n          />\n     </div>\n    </form>\n)\n}\n    export default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\nconsole.log('PersonForm')\n  return(\n  <form onSubmit={addPerson}>\n  <div>\n    name: <input \n    value={newName}\n    onChange={handleNameChange}\n    />\n  </div>\n  <div>\n    number: <input\n    value={newNumber}\n    onChange={handleNumberChange}\n    />\n    </div>\n  <div>\n    <button type=\"submit\">add</button>\n  </div>\n</form>\n)\n}\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={className}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './services/PersonList'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ findName, setFinder ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [messageType, SetMessageType] = useState(null)\n\n\n  useEffect(() => {\n    PersonList\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button', event.target)\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n    if(persons.find(names => names.name === newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace hte old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n        PersonList\n        .update(personToUpdate.id, { name: newName, number: newNumber})\n        .then(response => {\n          setPersons(persons.map(person => person.id !== personToUpdate.id ? person : response.data))\n        })\n        setNewName('')\n        setNewNumber('')\n        console.log('täällä')\n      }\n    }\n    else\n    PersonList\n    .create(nameObject)\n    .then(returnedPerson => {\n      console.log(returnedPerson)\n    setPersons(persons.concat(returnedPerson))\n    setNewName('')\n    setNewNumber('')\n    setMessage(`Succesfully added ${newName}`)\n    SetMessageType('success')\n    setTimeout(() => {\n      setMessage(null)\n      SetMessageType(null)\n    }, 5000)\n    }\n  )\n  }\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleFinderChange = (event) => {\n    console.log(event.target.value)\n    setFinder(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleClick = (id) => {\n    const personToRemove = persons.find(person => person.id === id)\n    PersonList\n      .remove(id)\n      .then(removedPerson => {\n        console.log(removedPerson)\n      setPersons(persons.splice(removedPerson))\n      setFinder('')\n      setMessage(`Succesfully removed ${personToRemove.name}`)\n      SetMessageType('success')\n      setTimeout(() => {\n        setMessage(null)\n        SetMessageType(null)\n      }, 5000)\n      })\n    }\n    \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} className={messageType} />\n      <Filter findName={findName} handleFinderChange={handleFinderChange} />\n        <h3>add a new</h3>\n      <PersonForm \n      addPerson={addPerson}\n      newName={newName}\n      handleNameChange={handleNameChange}\n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} findName={findName} handleClick={handleClick} />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}