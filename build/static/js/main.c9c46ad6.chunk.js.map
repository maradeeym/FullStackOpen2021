{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/PersonList.js","components/Notification.js","components/PersonTable.js","App.js","index.js"],"names":["Filter","findName","handleFinderChange","value","onChange","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newPerson","post","id","put","delete","Notification","message","className","Person","name","number","removePerson","onClick","window","confirm","PersonTable","persons","map","person","index","App","useState","setPersons","setNewName","setNewNumber","setFinder","setMessage","messageType","SetMessageType","useEffect","PersonList","initialPersons","console","log","event","target","preventDefault","nameObject","length","find","names","personToUpdate","toLowerCase","returnedPerson","setTimeout","concat","catch","error","filter","match","personToRemove","removedPerson","splice","ReactDOM","render","document","getElementById"],"mappings":"iMAcmBA,EAZJ,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,mBACvB,OACA,+BACI,sDACqB,uBACnBC,MAAOF,EACPG,SAAUF,UCeLG,EArBI,SAAC,GAA2E,IAA1EC,EAAyE,EAAzEA,UAAWC,EAA8D,EAA9DA,QAASC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,iBAAkBC,EAAwB,EAAxBA,mBACpE,OACA,uBAAMC,SAAUL,EAAhB,UACA,yCACQ,uBACNH,MAAOI,EACPH,SAAUK,OAGZ,2CACU,uBACRN,MAAOK,EACPJ,SAAUM,OAGZ,8BACE,wBAAQE,KAAK,SAAb,uB,gBCjBEC,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACG,GAEd,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCN1BM,EAZI,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC7B,OAAgB,OAAZD,EACK,KAIP,qBAAKC,UAAWA,EAAhB,SACGD,KCmBHE,EAAS,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,aAAcT,EAAS,EAATA,GAC1C,OACE,+BAAI,6BAAKO,IAAU,6BAAKC,IAAY,6BAAI,wBAAQE,QAAS,WAClDC,OAAOC,QAAP,iBAAyBL,EAAzB,OACHE,EAAaT,IAFuB,0BAM3Ba,EAlCC,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,QAASL,EAA4B,EAA5BA,aAC3B,MAAgB,KADuC,EAAd7B,SAGjC,iDAKJ,8BACI,gCACI,gCACKkC,EAAQC,KAAI,SAACC,EAAQC,GAAT,OACb,cAAC,EAAD,CACAV,KAAMS,EAAOT,KACbC,OAAQQ,EAAOR,OACfR,GAAIgB,EAAOhB,GACXS,aAAcA,GAJDO,EAAOT,gBCqIzBW,EA1IH,WACV,MAA+BC,mBAAS,CACtC,CAAEZ,KAAM,cAAeC,OAAQ,cAC/B,CAAED,KAAM,eAAgBC,OAAQ,iBAChC,CAAED,KAAM,cAAeC,OAAQ,gBAC/B,CAAED,KAAM,mBAAoBC,OAAQ,mBAJtC,mBAAQM,EAAR,KAAiBM,EAAjB,KAMA,EAAgCD,mBAAS,IAAzC,mBAAQjC,EAAR,KAAiBmC,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAQhC,EAAR,KAAmBmC,EAAnB,KACA,EAAgCH,mBAAS,IAAzC,mBAAQvC,EAAR,KAAkB2C,EAAlB,KACA,EAA8BJ,mBAAS,MAAvC,mBAAOf,EAAP,KAAgBoB,EAAhB,KACA,EAAsCL,mBAAS,MAA/C,mBAAOM,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACRC,IAEGjC,MAAK,SAAAkC,GACJC,QAAQC,IAAI,qBACZX,EAAWS,QAEd,IAgGD,OACE,gCACE,2CACA,cAAC,EAAD,CAAczB,QAASA,EAASC,UAAWoB,IAC3C,cAAC,EAAD,CAAQ7C,SAAUA,EAAUC,mBAtCP,SAACmD,GAC1BF,QAAQC,IAAIC,EAAMC,OAAOnD,OACzByC,EAAUS,EAAMC,OAAOnD,UAqCjB,2CACF,cAAC,EAAD,CACEG,UArGU,SAAC+C,GACjBA,EAAME,iBACNJ,QAAQC,IAAI,SAAUC,EAAMC,QAC5B,IAAME,EAAa,CACjB5B,KAAMrB,EACNsB,OAAQrB,EACRa,GAAIc,EAAQsB,OAAS,GAEvB,GAAGtB,EAAQuB,MAAK,SAAAC,GAAK,OAAIA,EAAM/B,OAASrB,MACtC,GAAGyB,OAAOC,QAAP,UAAkB1B,EAAlB,2EAAoG,CACrG,IAAMqD,EAAiBzB,EAAQuB,MAAK,SAAArB,GAAM,OAAIA,EAAOT,KAAKiC,gBAAkBtD,EAAQsD,iBACpFV,QAAQC,IAAI,iBACZD,QAAQC,IAAIQ,GACZX,EACQW,EAAevC,GAAI,CAAEO,KAAMrB,EAASsB,OAAQrB,IACnDQ,MAAK,SAAA8C,GACJrB,EAAWN,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOhB,KAAOuC,EAAevC,GAAKgB,EAASyB,SAE9EpB,EAAW,IACXC,EAAa,IACbE,EAAW,uBAAD,OAAwBtC,IAClCwC,EAAe,WACfgB,YAAW,WACTlB,EAAW,MACXE,EAAe,QACd,KACHI,QAAQC,IAAI,yBAIhBH,EACQO,GACPxC,MAAK,SAAA8C,GACJX,QAAQC,IAAIU,GACdrB,EAAWN,EAAQ6B,OAAOF,IAC1BpB,EAAW,IACXC,EAAa,IACbE,EAAW,qBAAD,OAAsBtC,IAChCwC,EAAe,WACfgB,YAAW,WACTlB,EAAW,MACXE,EAAe,QACd,QAEFkB,OAAM,SAAAC,GACLrB,EAAWqB,EAAMjD,SAASC,KAAKgD,OAC/BnB,EAAe,SACfgB,YAAW,WACXlB,EAAW,MACXE,EAAe,QACd,KACDI,QAAQC,IAAIc,EAAMjD,SAASC,UAmDvBX,QAASA,EACTE,iBAhDiB,SAAC4C,GACxBF,QAAQC,IAAIC,EAAMC,OAAOnD,OACzBuC,EAAWW,EAAMC,OAAOnD,QA+ClBK,UAAWA,EACXE,mBAxCmB,SAAC2C,GAC1BF,QAAQC,IAAIC,EAAMC,OAAOnD,OACzBwC,EAAaU,EAAMC,OAAOnD,UAwCtB,yCACA,cAAC,EAAD,CAAaF,SAAUA,EAAUkC,QAASA,EAAQgC,QAAO,SAAC9B,GAAD,OAAYA,EAAOT,KAAKiC,cAAcO,MAAMnE,EAAS4D,kBAAiB/B,aAtChH,SAACT,GACpB,IAAMgD,EAAiBlC,EAAQuB,MAAK,SAAArB,GAAM,OAAIA,EAAOhB,KAAOA,KAC5D4B,EACU5B,GACPL,MAAK,SAAAsD,GACJnB,QAAQC,IAAIkB,GACd7B,EAAWN,EAAQoC,OAAOD,IAC1B1B,EAAU,IACVC,EAAW,uBAAD,OAAwBwB,EAAezC,OACjDmB,EAAe,WACfgB,YAAW,WACTlB,EAAW,MACXE,EAAe,QACd,eC/GTyB,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.c9c46ad6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({findName, handleFinderChange}) => { \n    return(\n    <form>\n        <div>\n          filter shown with: <input \n          value={findName}\n          onChange={handleFinderChange}\n          />\n     </div>\n    </form>\n)\n}\n    export default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\n  return(\n  <form onSubmit={addPerson}>\n  <div>\n    name: <input \n    value={newName}\n    onChange={handleNameChange}\n    />\n  </div>\n  <div>\n    number: <input\n    value={newNumber}\n    onChange={handleNumberChange}\n    />\n    </div>\n  <div>\n    <button type=\"submit\">add</button>\n  </div>\n</form>\n)\n}\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={className}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React from 'react'\n\nconst PersonTable = ({persons, removePerson, findName}) => {\n    if(findName === ''){\n        return(\n            <p>Search something</p>\n        )\n    }\n    else{\n    return (\n        <div>\n            <table>\n                <tbody> \n                    {persons.map((person, index) => \n                    <Person key={person.name} \n                    name={person.name} \n                    number={person.number}\n                    id={person.id}\n                    removePerson={removePerson}\n                    />)}\n                </tbody>\n            </table>\n        </div>\n        )\n    }\n}\n\n\nconst Person = ({ name, number, removePerson, id }) => {\n    return (\n      <tr><td>{name}</td><td>{number}</td><td><button onClick={() => {\n          if(window.confirm(`Delete ${name}?`)){\n          removePerson(id)}}}>Delete</button></td></tr>\n    )\n  }\n\n    export default PersonTable\n","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './services/PersonList'\nimport Notification from './components/Notification'\nimport PersonTable from './components/PersonTable'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([\n    { name: 'Arto Hellas', number: '040-123456' },\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\n    { name: 'Dan Abramov', number: '12-43-234345' },\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ findName, setFinder ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [messageType, SetMessageType] = useState(null)\n\n  useEffect(() => {\n    PersonList\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button', event.target)\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n    if(persons.find(names => names.name === newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n        console.log('put löytyy')\n        console.log(personToUpdate)\n        PersonList\n        .update(personToUpdate.id, { name: newName, number: newNumber})\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\n        })\n        setNewName('')\n        setNewNumber('')\n        setMessage(`Succesfully updated ${newName}`)\n        SetMessageType('success')\n        setTimeout(() => {\n          setMessage(null)\n          SetMessageType(null)\n        }, 5000)\n        console.log('täällä')\n      }\n    }\n    else\n    PersonList\n    .create(nameObject)\n    .then(returnedPerson => {\n      console.log(returnedPerson)\n    setPersons(persons.concat(returnedPerson))\n    setNewName('')\n    setNewNumber('')\n    setMessage(`Succesfully added ${newName}`)\n    SetMessageType('success')\n    setTimeout(() => {\n      setMessage(null)\n      SetMessageType(null)\n    }, 5000)\n    })\n    .catch(error => {\n      setMessage(error.response.data.error)\n      SetMessageType('error')\n      setTimeout(() => {\n      setMessage(null)\n      SetMessageType(null)\n    }, 5000)\n      console.log(error.response.data)\n    })\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleFinderChange = (event) => {\n    console.log(event.target.value)\n    setFinder(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const removePerson = (id) => {\n    const personToRemove = persons.find(person => person.id === id)\n    PersonList\n      .remove(id)\n      .then(removedPerson => {\n        console.log(removedPerson)\n      setPersons(persons.splice(removedPerson))\n      setFinder('')\n      setMessage(`Succesfully removed ${personToRemove.name}`)\n      SetMessageType('success')\n      setTimeout(() => {\n        setMessage(null)\n        SetMessageType(null)\n      }, 5000)\n      })\n    }\n/*\n    const personsToShow2 = persons.filter(person => person.name.toLocaleLowerCase().includes(findName))\n    .map(person => <PersonTable name={person.name} number={person.number} removePerson={removePerson} />)\n    console.log(personsToShow2)\n*/\n  \n//<PersonTable persons={persons.filter((person) => findName === '' || person.name.toLowerCase().match(findName.toLowerCase()))} removePerson={removePerson}/>\n    //const personsToShow = showAll\n    return (\n      <div>\n        <h2>Phonebook</h2>\n        <Notification message={message} className={messageType} />\n        <Filter findName={findName} handleFinderChange={handleFinderChange} />\n          <h3>add a new</h3>\n        <PersonForm \n          addPerson={addPerson}\n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange}\n        />\n        <h3>Numbers</h3>\n        <PersonTable findName={findName} persons={persons.filter((person) => person.name.toLowerCase().match(findName.toLowerCase()))} removePerson={removePerson}/>\n\n\n      </div>\n    )\n\n  }\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}